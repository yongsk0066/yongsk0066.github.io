---
interface Props {
  src: string;
  caption?: string;
  ratio?: string;
  control?: boolean;
}

const { src, caption, ratio, control } = Astro.props;
---

<figure>
  <video
    class="rounded-lg shadow-xl hover:shadow-3xl hover:-translate-y-2 hover:scale-105 transition-all duration-300 ease-in-out"
    autoplay
    loop
    muted
    playsinline
    disablepictureinpicture
    oncontextmenu="return false;"
    style={{
      ...(ratio && { aspectRatio: ratio }),
    }}
    {...control && { controls: true }}
  >
    <source src={src} type="video/mp4" />
  </video>
  {caption && <figcaption>{caption}</figcaption>}
</figure>

<style>
  video {
    width: fit-content;
    object-fit: cover;
    box-sizing: border-box;
    background-color: black;
    margin: 0 auto;
    position: relative;
  }

  figure {
    margin: 2rem auto;
    display: grid;
    place-items: center;
  }
</style>
